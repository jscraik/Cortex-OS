# brAInwav Cortex-OS Port Configuration
# This file documents the ports used by various Cortex-OS services

# ======================
# MCP (Model Context Protocol) Ports
# ======================

# Pieces OS MCP Server
# Pieces CLI connects to Pieces OS for MCP integration
PIECES_MCP_PORT=39300
PIECES_MCP_ENDPOINT=http://localhost:39300/model_context_protocol/2024-11-05/sse
PIECES_MCP_ENABLED=true

# Cortex-OS MCP Server
# Main MCP server for Cortex-OS runtime
CORTEX_MCP_PORT=3024
CORTEX_MCP_ENDPOINT=http://localhost:3024

# Local Memory MCP Server
# Memory service MCP endpoint
MEMORY_MCP_PORT=3026
MEMORY_MCP_ENDPOINT=http://localhost:3026
# IMPORTANT: Port 3024 is connected to Cloudflare tunnel: https://cortex-mcp.brainwav.io
# This is the main MCP server for external integrations
LOCAL_MEMORY_BASE_URL=http://localhost:3028/api/v1

# ======================
# Core Services Ports
# ======================

# Cortex-OS Runtime Server
CORTEX_RUNTIME_PORT=3000
CORTEX_RUNTIME_URL=http://localhost:3000

# Cortex WebUI Backend
WEBUI_BACKEND_PORT=3001
WEBUI_BACKEND_URL=http://localhost:3001

# Cortex WebUI Frontend (Dev Server)
WEBUI_FRONTEND_PORT=5173
WEBUI_FRONTEND_URL=http://localhost:5173

# ======================
# Database Ports
# ======================

# PostgreSQL
POSTGRES_PORT=5432

# Redis
REDIS_PORT=6379

# Qdrant Vector Database
QDRANT_PORT=6333

# ======================
# AI/ML Service Ports
# ======================

# Ollama
OLLAMA_PORT=11434
OLLAMA_URL=http://localhost:11434

# MLX Embedding Service
MLX_EMBED_PORT=8765
MLX_EMBED_URL=http://localhost:8765

# ======================
# Development & Debugging
# ======================

# Nx Cloud
NX_CLOUD_PORT=8080

# Storybook
STORYBOOK_PORT=6006

# ======================
# Notes
# ======================
# - Ensure all ports are available before starting services
# - Use `./scripts/system/check-port-conflicts.sh` to verify port availability
# - Pieces OS must be running for MCP integration to work
# - MCP endpoints use Server-Sent Events (SSE) for streaming
