# Performance Optimization Configuration for Cortex-OS
# These settings override defaults for optimal performance

# ==============================
# GPU ACCELERATION SETTINGS
# ==============================
GPU_ACCELERATION_ENABLED=true
GPU_DEVICE_IDS=0
GPU_MAX_MEMORY_MB=8192
GPU_BATCH_SIZE=32
GPU_MAX_CONCURRENT_BATCHES=3
GPU_TIMEOUT_MS=30000
GPU_CPU_BATCH_SIZE=16
GPU_MAX_QUEUE_SIZE=100
GPU_METRICS_INTERVAL=30000
GPU_PERFORMANCE_THRESHOLD=5000
GPU_MEMORY_THRESHOLD=80
GPU_BATCH_TIMEOUT=1000
GPU_MEMORY_OPTIMIZATION=true
GPU_PREFER_GPU_FOR_BATCHES=true

# ==============================
# DATABASE OPTIMIZATION
# ==============================
DATABASE_OPTIMIZATION_ENABLED=true
DB_QUERY_SAMPLE_SIZE=1000
DB_ANALYSIS_WINDOW=300000
DB_MIN_QUERY_FREQUENCY=5
DB_PERFORMANCE_THRESHOLD=1000
DB_AUTO_CREATE_INDEXES=true
DB_MAX_INDEXES_PER_TABLE=10
DB_DROP_UNUSED_INDEXES=true
DB_UNUSED_INDEX_THRESHOLD=7
DB_MONITORING_ENABLED=true
DB_MONITORING_INTERVAL=60000
DB_SLOW_QUERY_THRESHOLD=10
DB_INDEX_USAGE_RATIO=5
DB_MISSING_INDEX_IMPACT=20

# ==============================
# AUTO-SCALING CONFIGURATION
# ==============================
AUTO_SCALING_ENABLED=true
AUTO_SCALING_CPU_THRESHOLD=80
AUTO_SCALING_MEMORY_THRESHOLD=85
AUTO_SCALING_LATENCY_THRESHOLD=5000
AUTO_SCALING_ERROR_RATE_THRESHOLD=0.1
AUTO_SCALING_QUEUE_THRESHOLD=50
AUTO_SCALING_MIN_INSTANCES=1
AUTO_SCALING_MAX_INSTANCES=10
AUTO_SCALING_SCALE_UP_COOLDOWN=120000
AUTO_SCALING_SCALE_DOWN_COOLDOWN=300000
AUTO_SCALING_SCALE_UP_FACTOR=2
AUTO_SCALING_SCALE_DOWN_FACTOR=0.75
AUTO_SCALING_PREDICTION_ENABLED=true
AUTO_SCALING_PREDICTION_WINDOW=900000
AUTO_SCALING_PREDICTION_ACCURACY=0.8
AUTO_SCALING_EMERGENCY_ENABLED=true
AUTO_SCALING_EMERGENCY_CPU_THRESHOLD=95
AUTO_SCALING_EMERGENCY_MEMORY_THRESHOLD=95
AUTO_SCALING_EMERGENCY_LATENCY_THRESHOLD=15000
AUTO_SCALING_EMERGENCY_AUTO_SCALE=true
AUTO_SCALING_EMERGENCY_MAX_INSTANCES=20
AUTO_SCALING_ALERTING=true

# ==============================
# ML OPTIMIZATION SETTINGS
# ==============================
ML_OPTIMIZATION_ENABLED=true
ML_PATTERN_ANALYSIS_ENABLED=true
ML_PATTERN_MIN_SAMPLES=50
ML_PATTERN_CLUSTER_THRESHOLD=0.7
ML_PATTERN_MAX_PATTERNS=100
ML_PATTERN_UPDATE_INTERVAL=300000
ML_LATENCY_PREDICTION_ENABLED=true
ML_LATENCY_MODEL_TYPE=linear
ML_LATENCY_TRAIN_INTERVAL=1800000
ML_LATENCY_MIN_TRAINING_SAMPLES=500
ML_LATENCY_MAX_TRAINING_SAMPLES=10000
ML_CACHE_OPTIMIZATION_ENABLED=true
ML_CACHE_PREDICTION_HORIZON=1800000
ML_CACHE_OPTIMIZATION_THRESHOLD=0.6
ML_AUTO_APPLY_OPTIMIZATIONS=false
ML_MANUAL_REVIEW_REQUIRED=true
ML_MAX_CONCURRENT_OPTIMIZATIONS=3
ML_OPTIMIZATION_COOLDOWN=300000
ML_ANOMALY_DETECTION=true
ML_PERFORMANCE_DEGRADATION_THRESHOLD=0.3
ML_ALERT_THRESHOLD=0.2

# ==============================
# CDN CACHING CONFIGURATION
# ==============================
CDN_CACHING_ENABLED=true
CDN_PROVIDER=cloudflare
CDN_ZONE_ID=${CDN_ZONE_ID}
CDN_API_TOKEN=${CDN_API_TOKEN}
CDN_DISTRIBUTION_ID=${CDN_DISTRIBUTION_ID}
CDN_CUSTOM_ENDPOINT=${CDN_CUSTOM_ENDPOINT}
CDN_CACHE_KEY_PREFIX=brainwav_graphrag
CDN_DEFAULT_TTL=3600
CDN_MAX_TTL=86400
CDN_STALE_WHILE_REVALIDATE=300
CDN_STALE_IF_ERROR=600
CDN_COMPRESSION_ENABLED=true
CDN_COMPRESSION_LEVEL=6
CDN_COMPRESSION_TYPES=text/,application/json,application/javascript,application/xml
CDN_AUTO_MINIFY=true
CDN_IMAGE_OPTIMIZATION=true
CDN_BROTLI_COMPRESSION=true
CDN_HTTP2_PUSH=true
CDN_MONITORING=true
CDN_REAL_TIME_METRICS=true
CDN_ALERTING=true
CDN_LOG_LEVEL=info
CDN_GEOGRAPHIC=true
CDN_REGIONS=us-east-1,us-west-2,eu-west-1,ap-southeast-1
CDN_DEFAULT_REGION=us-east-1
CDN_FALLBACK_REGION=us-east-1

# ==============================
# QUERY PRECOMPUTATION
# ==============================
PRECOMPUTATION_ENABLED=true
PRECOMPUTATION_MAX_QUERIES=20
PRECOMPUTATION_MIN_FREQUENCY=3
PRECOMPUTATION_CONFIDENCE_THRESHOLD=0.7
PRECOMPUTATION_ANALYSIS_WINDOW=3600000
PRECOMPUTATION_SCHEDULING_INTERVAL=300000
PRECOMPUTATION_MAX_CONCURRENT_JOBS=3
PRECOMPUTATION_OFF_PEAK_HOURS=2,3,4,5,6,22,23,0,1
PRECOMPUTATION_DEFAULT_TTL=1800000
PRECOMPUTATION_MAX_TTL=7200000
PRECOMPUTATION_REFRESH_THRESHOLD=0.3

# ==============================
# MONITORING & PERFORMANCE
# ==============================
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_METRICS_INTERVAL=30000
PERFORMANCE_SLOW_QUERY_THRESHOLD=5000
PERFORMANCE_CACHE_HIT_RATIO_THRESHOLD=0.3
PERFORMANCE_MEMORY_USAGE_THRESHOLD=500
PERFORMANCE_EXTERNAL_PROVIDER_ERROR_THRESHOLD=0.1
PERFORMANCE_EXTERNAL_PROVIDER_LATENCY_THRESHOLD=10000
PERFORMANCE_QUERY_HISTORY_SIZE=1000

# ==============================
# CACHE MANAGEMENT
# ==============================
CACHE_MEMORY_ENABLED=true
CACHE_MEMORY_MAX_SIZE=1000
CACHE_MEMORY_DEFAULT_TTL=300000
CACHE_WRITE_THROUGH=true
CACHE_WRITE_BEHIND=false
CACHE_READ_THROUGH=true
CACHE_CLEANUP_INTERVAL=60000
CACHE_LRU_ENABLED=true

# ==============================
# NODE.JS PERFORMANCE
# ==============================
NODE_OPTIONS=--max-old-space-size=4096 --expose-gc --optimize-for-size
NODE_MAX_OLD_SPACE_SIZE=4096
NODE_GC_INTERVAL=60000